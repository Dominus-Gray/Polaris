# Polaris Next.js Full Stack Application - Optimized Configuration
[program:polaris-backend]
command=node server/index.js
directory=/app
autostart=true
autorestart=true
environment=NODE_ENV="production",PORT="8001"
stderr_logfile=/var/log/supervisor/polaris-backend.err.log
stdout_logfile=/var/log/supervisor/polaris-backend.out.log
stopsignal=TERM
stopwaitsecs=30
stopasgroup=true
killasgroup=true

[program:polaris-frontend]
command=yarn start
environment=HOST="0.0.0.0",PORT="3000"
directory=/app
autostart=true
autorestart=true
stderr_logfile=/var/log/supervisor/polaris-frontend.err.log
stdout_logfile=/var/log/supervisor/polaris-frontend.out.log
stopsignal=TERM
stopwaitsecs=50
stopasgroup=true
killasgroup=true

[program:mongodb]
command=/usr/bin/mongod --bind_ip_all
autostart=true
autorestart=true
stderr_logfile=/var/log/mongodb.err.log
stdout_logfile=/var/log/mongodb.out.log